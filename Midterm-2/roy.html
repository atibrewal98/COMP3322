<!DOCTYPE html>
<html>
<head>
 <title>Shuffle Image</title>
 <script src='jquery-3.3.1.js'></script>
 <style>
 #sbox {
 width: 327px; height: 327px;
 }
 canvas { float: left; }
 </style>
</head>
<body>
 <div id="sbox">
 <canvas id="c1" width="109" height="109"></canvas>
 <canvas id="c2" width="109" height="109"></canvas>
 <canvas id="c3" width="109" height="109"></canvas>
 <canvas id="c4" width="109" height="109"></canvas>
 <canvas id="c5" width="109" height="109"></canvas>
 <canvas id="c6" width="109" height="109"></canvas>
 <canvas id="c7" width="109" height="109"></canvas>
 <canvas id="c8" width="109" height="109"></canvas>
 <canvas id="c9" width="109" height="109"></canvas>
 </div>
 <script>
 //This function returns a number between 0 to limit-1 and the returned
 //number should not be equal to the first parameter (index).
 function randomLoc(index, limit) {
 do {
 var r = Math.floor(Math.random()*Math.floor(limit));
 } while (r == index);
 return r;
 }
 draw();
 //Implement the draw() function
 //Split the image into 9 pieces and draw each piece on individual canvas.
 function draw() {


 var ctx0 = document.getElementById('c1') .getContext('2d');
            var ctx1 = document.getElementById('c2') .getContext('2d');
            var ctx2 = document.getElementById('c3') .getContext('2d');
            var ctx3 = document.getElementById('c4') .getContext('2d');
            var ctx4 = document.getElementById('c5') .getContext('2d');
            var ctx5 = document.getElementById('c6') .getContext('2d');
            var ctx6 = document.getElementById('c7') .getContext('2d');
            var ctx7 = document.getElementById('c8') .getContext('2d');
            var ctx8 = document.getElementById('c9') .getContext('2d');
            var img = new Image();
            img.onload = function() {
              x_cord=img.width/3;
              y_cord=img.height/3;
                ctx0.drawImage(img,0,0,x_cord,y_cord, 0, 0, 109, 109);
                ctx1.drawImage(img,x_cord+1,0,x_cord,y_cord, 0, 0, 109, 109);
                ctx2.drawImage(img, 2*x_cord+1, 0,x_cord,y_cord,0,0, 109, 109);
                ctx3.drawImage(img, 0,y_cord+1,x_cord,y_cord, 0, 0, 109,109);
                ctx4.drawImage(img, x_cord+1,y_cord+1,x_cord,y_cord, 0, 0, 109, 109);
                ctx5.drawImage(img, 2*x_cord+1, y_cord+1,x_cord,y_cord,0,0, 109, 109);
                ctx6.drawImage(img, 0,2*y_cord+1,x_cord,y_cord, 0, 0, 109,109);
                ctx7.drawImage(img, x_cord+1,2*y_cord+1,x_cord,y_cord, 0, 0, 109, 109);
                ctx8.drawImage(img, 2*x_cord+1, 2*y_cord+1,x_cord,y_cord,0,0, 109, 109);
            };
            img.src = 'cat.jpg';

 }
 //Use jQuery to add the onclick event handler to each canvas
 $("canvas").on("click", function (){
   var img= new Image();
   var id1 = this.id;
   var id2 = "c"+(randomLoc(id1[1]-1,9)+1);
   img.onload = function(){
          x_cord=img.width/3;
          y_cord=img.height/3;
          
          var index1=id1[1];
          var index2=id2[1];
          var r1=index1%3;
          var c1=index1/3;

          var r2=index2%3;
          var c2=index2/3;
          var ctx11 = document.getElementById(id1).getContext('2d');
          var ctx22 = document.getElementById(id2).getContext('2d');

        if(r1==0 && c1==0)
        {
          ctx22.drawImage(img, r1*x_cord, c1*y_cord,x_cord,y_cord,0,0, 109, 109);
         
        }
        else if(r1==0 && c1!=0)
        {
          ctx22.drawImage(img, r1*x_cord, c1*y_cord+1,x_cord,y_cord,0,0, 109, 109);

        }
        else if(r1!=0 && c1==0)
        {
          ctx22.drawImage(img, r1*x_cord+1, c1*y_cord,x_cord,y_cord,0,0, 109, 109);

        }
        else
        {
          ctx22.drawImage(img, r1*x_cord+1, c1*y_cord+1,x_cord,y_cord,0,0, 109, 109);
 
        }

      if(r2==0 && c2==0)
        {
          ctx11.drawImage(img, r2*x_cord, c2*y_cord,x_cord,y_cord,0,0, 109, 109);
         
        }
        else if(r2==0 && c2!=0)
        {
          ctx11.drawImage(img, r2*x_cord, c2*y_cord+1,x_cord,y_cord,0,0, 109, 109);

        }
        else if(r2!=0 && c2==0)
        {
          ctx11.drawImage(img, r2*x_cord+1, c2*y_cord,x_cord,y_cord,0,0, 109, 109);

        }
        else
        {
          ctx11.drawImage(img, r2*x_cord+1, c2*y_cord+1,x_cord,y_cord,0,0, 109, 109);
 
        }
        
   }
   img.src = 'cat.jpg';




 });

 </script>
</body>
</html>
